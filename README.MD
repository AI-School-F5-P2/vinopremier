# **Proyecto de comparación de productos vinícolas.**

![](imagen.png)

# INTRODUCCIÓN

En este documento se detalla un artefacto de IA encaminado a la comparación de productos vinícolas. El objetivo es ofrecer a los clientes de Vinopremier un servicio de selección alternativa de vinos cuando busquen un producto del catálogo que no tenga stock en un momento puntual.

El mercado del vino online se encuentra en constante crecimiento, impulsado por la comodidad y accesibilidad que ofrece a los consumidores. Sin embargo, la experiencia de compra online puede verse limitada cuando un cliente busca un vino específico que no se encuentra en stock.

En este contexto, surge [Vinopremier](https://www.vinopremier.com/), una empresa innovadora que se dedica a la comercialización de vinos por internet y que busca revolucionar la experiencia del cliente a través de la implementación de un artefacto de inteligencia artificial (IA).

Nuestra propuesta: Un sistema inteligente que recomienda vinos similares a aquellos que el cliente busca, en tiempo real y de forma automatizada.

¿Por qué elegirnos?

- **Solución innovadora** : Somos pioneros en la implementación de IA para la recomendación de vinos en el mercado online.
- **Experiencia personalizada** : Ofrecemos a cada cliente una experiencia única y adaptada a sus preferencias.
- **Amplia selección** : Contamos con un catálogo extenso y diverso de vinos para satisfacer todos los gustos.
- **Compra eficiente** : Agilizamos el proceso de compra y minimizamos la frustración de no encontrar el vino deseado, al ofrecer alternativas muy similares.
- **Servicio al cliente excepcional** : Brindamos atención personalizada y asesoramiento experto.

[Vinopremier](https://www.vinopremier.com/) se posiciona a la vanguardia del mercado online, combinando la pasión por el vino con la tecnología más avanzada. Nuestra misión: convertir la compra de vinos en una experiencia memorable y placentera para cada uno de nuestros clientes.

# ACERCA DEL COMERCIO DE VINOS

Un viaje al corazón del problema: La búsqueda del vino perfecto

## El reto

En el apasionante mundo del vino online, la experiencia del cliente puede verse empañada cuando un vino deseado no se encuentra disponible. La frustración de no encontrar la botella perfecta puede llevar a la pérdida de ventas y a una experiencia de compra insatisfactoria.

Imaginemos la siguiente escena: Un cliente navega por nuestro catálogo online, buscando un vino tinto de Rioja con crianza en barrica para disfrutar en una cena especial. Tras una exhaustiva búsqueda, encuentra el vino ideal: una añada excelente de una bodega reconocida, con un perfil de sabor que se ajusta a sus preferencias. Sin embargo, al añadirlo al carrito, se encuentra con la desilusión de que el producto está agotado.

La solución tradicional: En la mayoría de las plataformas online, el cliente se enfrenta a dos opciones poco satisfactorias:

- **Renunciar a su elección** : Buscar un vino similar entre las opciones disponibles, lo que puede implicar sacrificar características importantes como la variedad de uva, la región de origen o el tipo de crianza.
- **Navegar sin rumbo** : Explorar el catálogo sin una guía clara, con el riesgo de no encontrar un vino que realmente satisfaga sus expectativas.

**La frustración del cliente** : La falta de un sistema de recomendación preciso puede generar:

- **Pérdida de ventas** : Clientes que abandonan la compra por no encontrar el vino deseado.
- **Insatisfacción** : Experiencia de compra negativa que puede afectar la fidelización del cliente.
- **Percepción de falta de profesionalidad** : La empresa no parece anticipar las necesidades del cliente ni ofrecer soluciones eficientes.

Un nuevo horizonte: La inteligencia artificial al servicio del cliente

[Vinopremier](https://www.vinopremier.com/) se propone revolucionar la experiencia de compra online de vinos con la implementación de un sistema de recomendación inteligente basado en IA.

¿Cómo funciona? Nuestro sistema analiza en tiempo real las características de miles de vinos, incluyendo:

- **Tipo de uva** : La base de todo gran vino. Identificamos la variedad de uva (Tempranillo, Chardonnay, Cabernet Sauvignon, etc.) y su origen, determinando características como el cuerpo, la acidez y los aromas primarios.
- **Añada** : El año de la cosecha, un factor crucial que influye en el sabor y la complejidad del vino debido a las condiciones climáticas y el proceso de maduración.
- **Denominación de Origen** :Un sello de calidad que define la región donde se cultivan las uvas y se elabora el vino, asegurando características específicas en cuanto a sabor, aroma y tradición.
- **Meses en barrica** : El tiempo que el vino reposa en barricas, aportando complejidad, estructura y aromas ahumados, especiados o avainillados.
- **Tipo de vino** : Blanco, tinto o rosado, cada uno con sus propias características de color, sabor y aroma.
- **Bodega proveedora** : La casa del vino, donde se plasma la pasión y el saber hacer de los enólogos. Identificamos bodegas de renombre y pequeños productores con propuestas innovadoras.
- **Precio final** : Un factor importante a la hora de elegir un vino. Nuestro sistema te ofrece opciones que se ajustan a tu presupuesto, sin sacrificar calidad.

En algunos casos, la información técnica de un vino puede ser limitada. Para estos casos, nuestro sistema de IA se basa en dos pilares fundamentales:

- **Boca** : El sabor del vino es una experiencia subjetiva que involucra diferentes sensaciones: acidez, taninos, dulzor, cuerpo y persistencia. Nuestro sistema analiza estas características para encontrar vinos con perfiles de sabor similares.

- **Olfato** : El aroma del vino es una puerta de entrada a su universo sensorial. Los aromas frutales, florales, especiados, minerales o ahumados son algunos de los descriptores que utiliza nuestro sistema para identificar vinos con características aromáticas afines.

## Análisis sensorial

El sistema identifica aromas y sabores mediante descriptores específicos.

Recomendaciones personalizadas. Se tienen en cuenta las preferencias del cliente para ofrecer opciones afines a su gusto.

Aprendizaje continuo. El sistema se adapta y mejora con cada interacción, ofreciendo recomendaciones cada vez más precisas.

Beneficios para el cliente

- **Encuentra el vino perfecto** : Mayor probabilidad de encontrar el vino adecuado en cada caso, reduciendo frustraciones sin pérdida de tiempo.
- **Descubre nuevas opciones** : Experimenta con vinos de diferentes regiones, uvas y estilos, ampliando sus horizontes vinícolas.
- **Compra eficiente** : Ahorra tiempo y esfuerzo en la búsqueda del vino ideal.
- **Confianza en la empresa** : Experiencia de compra personalizada y satisfactoria que genera confianza y fidelidad.

Beneficios para la empresa

- **Aumento de las ventas** : Reduce la tasa de abandono del carrito y aumenta la probabilidad de compra.
- **Mejora de la satisfacción del cliente** : Experiencia de compra positiva que fideliza a los clientes y genera recomendaciones positivas.
- **Posicionamiento de vanguardia** : La empresa se posiciona como líder en innovación y tecnología dentro del mercado online de vinos.

En las próximas secciones, te invitamos a conocer en detalle el funcionamiento de nuestro sistema de IA, su impacto en la experiencia del cliente y las ventajas competitivas que ofrece a nuestra empresa.

¡Juntos, embarquémonos en un viaje hacia el futuro del comercio online del vino!

## Planteamiento

[Vinopremier](https://www.vinopremier.com/) es una tienda online de vinos, cervezas, destilados y productos gourmet creada en el año 2008 y que cuenta con un catálogo de más 14.000 referencias.

La empresa necesita automatizar algunos procesos para mejorar la experiencia de compra y los procesos internos. para lo cual requiere.

Una solución mediante la implementación de un sistema de recomendación automática de productos similares cuando un vino específico esté agotado utilizando los atributos de los productos, zona, uvas, precio, bodega, tipo de crianza, vino con acuerdo con la bodega

**Componentes del Proyecto:**

1. Recolección de Datos:

- Obtener datos históricos de compras y preferencias de los clientes.
- Recolectar información detallada sobre cada producto en el catálogo (atributos: zona, uvas, precio, bodega, tipo de crianza, etc.).

2. Preprocesamiento de Datos:

- Limpiar y organizar los datos para eliminar redundancias y valores nulos.
- Normalizar datos para garantizar consistencia en las comparaciones.

3. Modelo de Machine Learning:

- Seleccionar un algoritmo de recomendación adecuado para el contexto (por ejemplo, filtrado colaborativo, filtrado basado en contenido, aprendizaje profundo).
- Entrenar el modelo utilizando datos históricos y atributos de productos.

4. Integración con la Plataforma de E-Commerce:

- Desarrollar una interfaz para integrar el modelo de recomendación en la plataforma de Vinopremier.
- Asegurarse de que la recomendación se presente de manera intuitiva y atractiva para los usuarios.

5. Implementación de la Recomendación Automática:

- Establecer un mecanismo para detectar productos agotados en tiempo real.
- Configurar el sistema para generar recomendaciones automáticas basadas en productos agotados y atributos relevantes.

6. Pruebas y Validación:

- Realizar pruebas exhaustivas del sistema en un entorno de desarrollo.
- Validar la efectividad de las recomendaciones mediante evaluaciones y retroalimentación de usuarios beta.

7. Optimización Continua:

- Monitorear el rendimiento del sistema y ajustar el modelo según sea necesario.
- Mantener actualizado el modelo con nuevos datos y cambios en el catálogo de productos.

8. Documentación:

- Crear documentación detallada sobre la implementación del sistema de recomendación.
- Proporcionar manuales de usuario para el personal de [Vinopremier](https://www.vinopremier.com/) y los clientes.

## La magia detrás del telón

##

## Tecnología de vanguardia para la recomendación de vinos

El corazón del sistema: El sistema de recomendación de vinos de [Vinopremier](https://www.vinopremier.com/) está impulsado por un modelo de aprendizaje automático (Machine Learning) conocido como K-Nearest Neighbors (KNN).

¿Cómo funciona KNN?

1. Análisis de datos: El sistema ingiere y procesa una gran cantidad de datos sobre vinos, incluyendo:
  - Características técnicas: Tipo de uva, añada, denominación de origen, tipo de crianza, meses en barrica, tipo de vino, bodega proveedora y precio final.
  - Información sensorial: Descriptores de aromas y sabores.
  - Preferencias del cliente: Historial de compras, valoraciones y comentarios.
2. Cálculo de la distancia: Se calcula la distancia entre el vino buscado por el cliente y los demás vinos en la base de datos, utilizando diferentes métricas como la distancia euclidiana o la distancia de Manhattan.
3. Selección de los vecinos más cercanos: Se seleccionan los K vinos más similares al vino buscado, donde K es un valor predefinido.
4. Recomendación: Se recomiendan al cliente los K vinos más cercanos, con mayor probabilidad de ser de su agrado.

Ventajas de KNN:

- Simplicidad: Fácil de entender e implementar.
- Eficiencia: Bajo costo computacional.
- Escalabilidad: Se adapta bien a grandes conjuntos de datos.
- Flexibilidad: Permite incorporar diferentes tipos de datos.

Aspectos a considerar:

- Selección de K: El valor de K puede afectar la precisión de las recomendaciones.
- Sensibilidad al ruido: Los datos de entrenamiento deben ser de alta calidad.
- Interpretabilidad: Puede ser difícil comprender las razones detrás de las recomendaciones.

Implementación técnica:

- Librerías: Se utilizan librerías de Python como scikit-learn y pandas para el procesamiento de datos, entrenamiento del modelo y generación de recomendaciones.
- API: Se desarrolla una API RESTful para integrar el sistema de recomendación en la plataforma online de la empresa.

Infraestructura:

- Monitoreo: Se implementan herramientas de monitoreo para asegurar el correcto funcionamiento del sistema.

Seguridad:

- Se implementan medidas de seguridad para proteger la información del cliente y del sistema.

En resumen, el sistema de recomendación de vinos de [Vinopremier](https://www.vinopremier.com/) es una solución innovadora que utiliza tecnología de vanguardia para ofrecer una experiencia de compra personalizada y satisfactoria a sus clientes.

La tecnología empleada, basada en el modelo KNN, junto con la infraestructura robusta y las medidas de seguridad implementadas, garantizan un sistema eficiente, escalable y seguro.

## El modelo KNN

**KNN** , o K-Nearest Neighbors, es un algoritmo de aprendizaje automático supervisado que se utiliza para **clasificación** y **regresión**. Es uno de los algoritmos más simples e intuitivos, lo que lo convierte en una excelente opción para trabajar en el campo del aprendizaje automático.

**¿Cómo funciona KNN?**

1. **Fase de entrenamiento:** Se le presenta al algoritmo un conjunto de datos con ejemplos ya etiquetados (clasificación) o con valores conocidos (regresión). Estos ejemplos se conocen como **puntos de entrenamiento**.
2. **Fase de predicción:** Cuando se presenta un nuevo punto de datos (sin etiqueta o valor conocido), el algoritmo busca los **K puntos de entrenamiento más cercanos** a este nuevo punto. La distancia se suele calcular con la distancia euclidiana o la distancia de Manhattan.
3. **Clasificación:** En el caso de la clasificación, el algoritmo asigna al nuevo punto la etiqueta que más se repite entre los K vecinos más cercanos.
4. **Regresión:** En el caso de la regresión, el algoritmo calcula el valor del nuevo punto como el promedio de los valores de los K vecinos más cercanos.

**Ventajas de KNN:**

- **Simplicidad:**  Es un algoritmo fácil de entender e implementar.
- **Eficiencia:**  Es un algoritmo relativamente rápido, especialmente para conjuntos de datos pequeños.
- **Escalabilidad:**  Se puede aplicar a conjuntos de datos de cualquier tamaño.
- **Flexibilidad:**  Puede usarse para clasificación y regresión.
- **Interpretabilidad:**  Es fácil entender las razones detrás de las predicciones.

**Desventajas de KNN:**

- **Sensibilidad al ruido:**  Los datos de entrenamiento deben ser de alta calidad, ya que el algoritmo puede ser susceptible a puntos de ruido.
- **Selección de K:**  El valor de K puede afectar significativamente la precisión del algoritmo. No existe una regla general para elegir el valor de K, y se debe experimentar para encontrar el valor óptimo para cada problema.
- **Escalabilidad con la dimensionalidad:**  El rendimiento del algoritmo puede disminuir con la dimensionalidad de los datos.
- **Interpretabilidad limitada:**  Aunque es fácil entender las razones detrás de las predicciones, puede ser difícil explicar por qué un punto es más cercano a otro que a otro.

**Aplicaciones de KNN:**

- **Recomendación de productos:**  Se puede utilizar para recomendar productos a los usuarios en función de sus compras anteriores.
- **Detección de fraudes:**  Se puede utilizar para detectar transacciones fraudulentas en el sector financiero.
- **Análisis de imágenes:**  Se puede utilizar para clasificar imágenes o segmentar objetos en imágenes.
- **Reconocimiento de patrones:**  Se puede utilizar para identificar patrones en conjuntos de datos.

En resumen, KNN es un algoritmo versátil y fácil de usar que puede ser utilizado para una amplia variedad de tareas de aprendizaje automático. Es una buena opción para principiantes y para problemas en los que la simplicidad y la interpretabilidad son importantes.

## FastAPI

Para integrar el procesamiento con la web de [Vinopremier](https://www.vinopremier.com/) se ha empleado la librería FastAPI.

FastAPI es un moderno y rápido (de alta performance) framework web para construir APIs con Python 3.6+ basado en tipado estándar. Fue creado por Sebastián Ramírez y lanzado en diciembre de 2018. Su diseño se enfoca en ser fácil de usar y rápido de desarrollar, ofreciendo al mismo tiempo un rendimiento a la par con NodeJS y Go gracias a Starlette para el manejo de las conexiones web y Pydantic para la validación de datos y la serialización.

Características Principales

Rápido: FastAPI es uno de los frameworks más rápidos disponibles para Python, según pruebas de rendimiento independientes, solo superado por frameworks que no ofrecen tantas funcionalidades.

Fácil de usar: Está diseñado para ser fácil de usar y aprender. Esto lo logra mediante una API intuitiva y el uso de anotaciones de tipo Python estándar para la validación de datos y la serialización, lo que también ayuda en el desarrollo de herramientas de soporte como editores de código y herramientas de análisis estático.

Automáticamente interactivo: Genera documentación interactiva para la API usando Swagger UI y ReDoc, lo que facilita tanto la prueba de la API durante el desarrollo como la utilización por parte de los consumidores finales.

Basado en estándares: FastAPI se basa en (y completamente compatible con) los estándares de la API abierta (anteriormente conocidos como Swagger) y JSON Schema. Esto asegura que las APIs construidas con FastAPI puedan ser utilizadas por una amplia gama de herramientas y aplicaciones que también siguen estos estándares.

Ventajas Técnicas

- **Tipado estático** : El uso de Python 3.6+ type hints no solo mejora la velocidad de desarrollo a través de la detección temprana de errores, sino que también optimiza el rendimiento del runtime.
- **Asincronía** : FastAPI permite el uso de código asincrónico nativo de Python. Esto es particularmente útil para IO-bound y high-concurrency operations, lo que permite manejar un gran número de solicitudes simultáneamente.
- **Inyección de dependencias** : Ofrece un sistema de inyección de dependencias extremadamente potente y fácil de usar, lo que facilita la reutilización de código y la separación de preocupaciones dentro de la aplicación.
- **Seguridad y autenticación** : Incluye varias opciones integradas para manejar la autenticación, autorización, y seguridad, incluyendo soporte para OAuth2 con JWT tokens y HTTP Basic Auth.

Casos de Uso

FastAPI es adecuado para construir APIs de alto rendimiento y aplicaciones web modernas, especialmente cuando se requiere velocidad de desarrollo y rendimiento en producción. Es utilizado tanto por startups que buscan rapidez en el lanzamiento de sus productos como por grandes empresas que necesitan mantener y escalar sus sistemas de manera eficiente.

En resumen, FastAPI es una excelente elección para el desarrollo de APIs modernas en Python, combinando rapidez, facilidad de uso, y un amplio conjunto de características, lo que lo hace adecuado para proyectos de cualquier tamaño.

## Testeo

FastAPI facilita la creación de pruebas para la aplicación gracias a su diseño y compatibilidad con las herramientas de testeo estándar de Python. El testeo es fundamental para asegurar que la aplicación funcione correctamente, maneje los casos de error adecuadamente y cumpla con sus requisitos funcionales y no funcionales.

Testeo con FastAPI

Para realizar pruebas en la aplicación FastAPI utilizamos PyTest, una de las bibliotecas de pruebas más populares y poderosas en el ecosistema de Python. FastAPI también se integra bien con otras herramientas de testeo y frameworks pero, en este caso, nos hemos decantado por PyTest.

Creación de pruebas

FastAPI proporciona una función TestClient que viene del paquete requests. TestClient nos permite simular solicitudes HTTP a la aplicación para pruebas. Esto es útil para realizar pruebas unitarias y de integración sin necesidad de ejecutar la aplicación o un servidor web.